<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <div class="row">
      <div class="col-12 header">
        <img src="img/bird_logo.png" class="headerLogo"></img>
        <hr>
      </div>
    </div>
    <div class="row">
      <div class="col-4">
      </div>
      <div class="col-4 tweetCol">
      </div>
      <div class="col-4">
      </div>
    </div>
    <script>
      $(document).ready(function(){
        streamTweet();
        setInterval(streamTweet, 3000);
      });

      function streamTweet() {
        var $tweetCol = $('.tweetCol');
        $tweetCol.html('');

        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div class="tweetContainer"><div class="tweetHeader"><div class="handle"></div><div class="timeStamp"></div></div><div class="tweetText"></div></div>');
          $tweetCol.append($tweet);
          var date = getFormatDate(tweet.created_at);
          $tweet.find('.handle').text('@' + tweet.user);
          $tweet.find('.timeStamp').text(date);
          index -= 1;
        }
      }

      function getFormatDate(date) {
        var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        var month = months[date.getMonth()];

        var hours = ['12AM', '1AM', '2AM', '3AM', '4AM', '5AM', '6AM', '7AM', '8AM', '9AM', '10AM', '11AM', '12PM', '1PM', '2PM', '3PM', '4PM', '5PM', '6PM', '7PM', '8PM', '9PM', '10PM', '11AP'];
        var hour = hours[date.getHours()];

        return month + " " + date.getDate() + " at " + hour;
      }

    </script>
  </body>
</html>
